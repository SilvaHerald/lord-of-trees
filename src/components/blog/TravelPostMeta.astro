---
import { convertDateToLanguageFormat, useTranslations, type Language } from '@libs/i18n/config';

export interface Props {
  publishDate: Date;
  lang?: Language;
  destinations: {
    name: string;
    lat?: number;
    lng?: number;
    description?: string;
  }[];
  country: string;
  province: string;
  travelDates: string;
  duration: string;
  budget: string;
  class?: string;
}

const {
  lang = 'en',
  publishDate,
  destinations,
  country,
  province,
  travelDates,
  duration,
  budget,
  class: className = '',
} = Astro.props;

const t = useTranslations(lang);
---

<div class={`flex flex-wrap items-center gap-6 text-sm ${className}`}>
  <time datetime={publishDate.toISOString()} class="flex items-center gap-2">
    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
      ></path>
    </svg>
    {t('post.published')}
    {convertDateToLanguageFormat(publishDate, lang)}
  </time>

  <div class="flex items-center gap-2">
    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"
      ></path>
    </svg>
    <span>{`${province}, ${country}`}</span>
  </div>

  {
    duration && (
      <div class="flex items-center gap-2">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span>{duration}</span>
      </div>
    )
  }

  {
    travelDates && (
      <div class="flex items-center gap-2">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"
          />
        </svg>
        <span>{travelDates}</span>
      </div>
    )
  }
</div>
