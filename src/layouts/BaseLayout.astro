---
import LanguageSwitcher from '@components/LanguageSwitcher.astro';
import { defaultLang, useTranslations, type Language } from '@libs/i18n/config';
import '@styles/global.css';
import { mergePath } from '@utils/path-utils';
import RSSLinks from '@components/RSSLinks.astro';
export interface Props {
  lang?: Language;
  image?: string;
  is404?: boolean;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const { is404 = false, lang, image = '/images/travel-og-default.jpg' } = Astro.props;
const t = useTranslations(lang as Language);

let title = t('hero.title');
let description = t('hero.subtitle');
let baseUrl = '/';

if (lang !== defaultLang) {
  baseUrl = `/${lang}`;
}

if (is404) {
  title = t('404.title');
  description = t('404.description');
}
---

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="color-scheme" content="dark light" />
    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />
    <link rel="canonical" href={canonicalURL} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(image, Astro.url)} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={new URL(image, Astro.url)} />

    <!-- RSS Feed -->
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Travel Stories RSS Feed"
      href="/rss.xml"
    />

    <!-- Fonts -->
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    /> -->

    <!-- RSS Feeds -->
    <RSSLinks />

    <!-- Theme Script -->
    <script is:inline>
      function getThemePreference() {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
          return localStorage.getItem('theme');
        }
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'light' : 'light';
      }

      const isDark = getThemePreference() === 'dark';
      document.documentElement.classList[isDark ? 'add' : 'remove']('dark');

      if (typeof localStorage !== 'undefined') {
        const observer = new MutationObserver(() => {
          const isDark = document.documentElement.classList.contains('dark');
          localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });
        observer.observe(document.documentElement, {
          attributes: true,
          attributeFilter: ['class'],
        });
      }
    </script>
  </head>

  <body
    class="bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 font-sans text-slate-900 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 dark:text-white"
  >
    <!-- Header -->
    <header
      class="sticky top-0 z-50 border-b border-amber-200 bg-white/80 shadow-sm backdrop-blur-md dark:border-slate-700 dark:bg-slate-900/80"
    >
      <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between py-4">
          <!-- Logo -->
          <div class="flex items-center">
            <a href=`${baseUrl}` class="group flex items-center space-x-3">
              <!-- Travel Icon -->
              <div
                class="visible transform rounded-lg bg-gradient-to-br from-amber-500 to-orange-500 p-2 opacity-100 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-xl"
              >
                <svg
                  class="h-6 w-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
              </div>
              <div>
                <div
                  class="font-serif text-xl font-bold text-slate-900 transition-colors group-hover:text-amber-600 md:text-2xl dark:text-white"
                >
                  Lord Of Trees
                </div>
                <div class="text-xs font-medium tracking-wide text-slate-500 dark:text-slate-400">
                  {t('logo.slogan')}
                </div>
              </div>
            </a>
          </div>

          <!-- Navigation -->
          <div class="hidden items-center space-x-8 md:flex">
            <a
              href=`${baseUrl}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              {t('nav.home')}
            </a>
            <a
              href=`${mergePath(baseUrl, '/stories')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              {t('nav.stories')}
            </a>
            <div class="dropdown-wrapper relative">
              <button
                class="flex items-center font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
              >
                {t('nav.destinations')}
                <svg class="ml-1 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>
              <!-- Dropdown menu -->
              <div
                class="dropdown-menu invisible absolute top-full left-0 z-50 mt-2 w-48 rounded-lg border border-slate-200 bg-white opacity-0 shadow-xl transition-all duration-200 dark:border-slate-700 dark:bg-slate-800"
              >
                <div class="p-2">
                  <a
                    href="/destinations/asia"
                    class="block rounded-md px-3 py-2 text-sm text-slate-700 transition-colors hover:bg-amber-50 dark:text-slate-300 dark:hover:bg-slate-700"
                  >
                    üèØ Asia
                  </a>
                  <a
                    href="/destinations/europe"
                    class="block rounded-md px-3 py-2 text-sm text-slate-700 transition-colors hover:bg-amber-50 dark:text-slate-300 dark:hover:bg-slate-700"
                  >
                    üè∞ Europe
                  </a>
                  <a
                    href="/destinations/america"
                    class="block rounded-md px-3 py-2 text-sm text-slate-700 transition-colors hover:bg-amber-50 dark:text-slate-300 dark:hover:bg-slate-700"
                  >
                    üóΩ Americas
                  </a>
                  <a
                    href="/destinations/africa"
                    class="block rounded-md px-3 py-2 text-sm text-slate-700 transition-colors hover:bg-amber-50 dark:text-slate-300 dark:hover:bg-slate-700"
                  >
                    ü¶Å Africa
                  </a>
                  <a
                    href="/destinations/oceania"
                    class="block rounded-md px-3 py-2 text-sm text-slate-700 transition-colors hover:bg-amber-50 dark:text-slate-300 dark:hover:bg-slate-700"
                  >
                    üèÑ Oceania
                  </a>
                </div>
              </div>
            </div>
            <a
              href=`${mergePath(baseUrl, '/about')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              {t('nav.about')}
            </a>
            <a
              href=`${mergePath(baseUrl, '/contact')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              {t('nav.contact')}
            </a>
          </div>

          <!-- Theme Toggle & Mobile Menu -->
          <div class="flex items-center space-x-4">
            <!-- Search Icon -->
            <button
              class="rounded-lg p-2 text-slate-500 transition-colors hover:bg-amber-100 dark:text-slate-400 dark:hover:bg-slate-700"
            >
              <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </button>

            <!-- Theme Toggle -->
            <button
              id="theme-toggle"
              type="button"
              class="flex items-center justify-center rounded-lg p-2 text-slate-500 transition-colors hover:bg-amber-100 focus:ring-2 focus:ring-amber-500 focus:outline-none dark:text-slate-400 dark:hover:bg-slate-700"
              aria-label="Toggle theme"
            >
              <svg
                id="theme-toggle-dark-icon"
                class="mb-1 hidden h-5 w-5"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
              </svg>
              <svg
                id="theme-toggle-light-icon"
                class="mb-1 hidden h-5 w-5"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  d="M10 2L13.09 8.26L20 9L14 14.74L15.18 21.02L10 17.77L4.82 21.02L6 14.74L0 9L6.91 8.26L10 2Z"
                ></path>
              </svg>
            </button>
            <LanguageSwitcher className="self-center" />

            <!-- Mobile menu button -->
            <button
              id="mobile-menu-button"
              type="button"
              class="rounded-lg p-2 text-slate-500 transition-colors hover:bg-amber-100 focus:ring-2 focus:ring-amber-500 focus:outline-none md:hidden dark:text-slate-400 dark:hover:bg-slate-700"
              aria-label="Toggle menu"
            >
              <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile menu -->
        <div
          id="mobile-menu"
          class="mt-4 hidden border-t border-amber-200 pt-4 pb-4 md:hidden dark:border-slate-700"
        >
          <div class="flex flex-col space-y-4">
            <a
              href=`${baseUrl}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              üè† {t('nav.home')}
            </a>
            <a
              href=`${mergePath(baseUrl, '/stories')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              üìñ {t('nav.stories')}
            </a>
            <a
              href=`${mergePath(baseUrl, '/destinations')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              üó∫Ô∏è {t('nav.destinations')}
            </a>
            <a
              href=`${mergePath(baseUrl, '/about')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              üëã {t('nav.about')}
            </a>
            <a
              href=`${mergePath(baseUrl, '/contact')}`
              class="font-medium text-slate-700 transition-colors hover:text-amber-600 dark:text-slate-300 dark:hover:text-amber-400"
            >
              üíå {t('nav.contact')}
            </a>
          </div>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <slot />

    <!-- Footer -->
    <footer class="relative overflow-hidden bg-slate-900 text-white dark:bg-slate-950">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-5">
        <svg class="h-full w-full" viewBox="0 0 100 100">
          <defs>
            <pattern
              id="travel-pattern"
              x="0"
              y="0"
              width="20"
              height="20"
              patternUnits="userSpaceOnUse"
            >
              <circle cx="10" cy="10" r="2" fill="currentColor"></circle>
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#travel-pattern)"></rect>
        </svg>
      </div>

      <div class="relative z-10 mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8">
        <div class="mb-12 grid gap-8 md:grid-cols-2 lg:grid-cols-4">
          <!-- Brand Section -->
          <div class="lg:col-span-2">
            <div class="mb-6 flex items-center space-x-3">
              <div class="rounded-lg bg-gradient-to-br from-amber-500 to-orange-500 p-2">
                <svg
                  class="h-6 w-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
              </div>
              <div>
                <h3 class="font-serif text-xl font-bold">Lord Of Trees</h3>
                <p class="text-xs font-medium text-slate-400">{t('logo.slogan')}</p>
              </div>
            </div>
            <p class="mb-6 max-w-md leading-relaxed text-slate-300">
              {t('footer.subtitle')}
            </p>
            <div class="flex space-x-4">
              <a href="#" class="text-slate-400 transition-colors hover:text-amber-400">
                <span class="sr-only">Instagram</span>
                <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.024-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.083.402-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.746-1.378l-.747 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.624 0 11.99-5.367 11.99-11.987C24.007 5.367 18.641.001 12.017.001z"
                  ></path>
                </svg>
              </a>
              <a href="#" class="text-slate-400 transition-colors hover:text-amber-400">
                <span class="sr-only">YouTube</span>
                <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
                  ></path>
                </svg>
              </a>
              <a href="#" class="text-slate-400 transition-colors hover:text-amber-400">
                <span class="sr-only">Twitter</span>
                <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"
                  ></path>
                </svg>
              </a>
            </div>
          </div>

          <!-- Travel Categories -->
          <div>
            <h4 class="mb-4 flex items-center font-semibold text-white">
              <svg
                class="mr-2 h-5 w-5 text-amber-400"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M16 8l-4 8-4-4 8-4z"></path>
              </svg>

              {t('footer.tripTypes')}
            </h4>
            <ul class="space-y-3">
              <li>
                <a
                  href="/blog?tag=adventure"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üèîÔ∏è {t('tripType.adventure')}
                </a>
              </li>
              <li>
                <a
                  href="/blog?tag=solo-travel"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üéí {t('tripType.solo')}
                </a>
              </li>
              <li>
                <a
                  href="/blog?tag=culture"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üèõÔ∏è {t('tripType.cultural')}
                </a>
              </li>
              <li>
                <a
                  href="/blog?tag=food"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üçú {t('tripType.food')}
                </a>
              </li>
              <li>
                <a
                  href="/blog?tag=nature"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üåø {t('tripType.nature')}
                </a>
              </li>
            </ul>
          </div>

          <!-- Resources -->
          <div>
            <h4 class="mb-4 flex items-center font-semibold text-white">
              <svg
                class="mr-2 h-5 w-5 text-amber-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                ></path>
              </svg>
              {t('footer.resources')}
            </h4>
            <ul class="space-y-3">
              <li>
                <a
                  href="/travel-tips"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üí° {t('footer.travelTips')}
                </a>
              </li>
              <li>
                <a
                  href="/gear"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üéí {t('footer.gearGuide')}
                </a>
              </li>
              <li>
                <a
                  href="/planning"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üìÖ {t('footer.tripPlanning')}
                </a>
              </li>
              <li>
                <a
                  href="/rss.xml"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üì° {t('footer.rssFeed')}
                </a>
              </li>
              <li>
                <a
                  href="/newsletter"
                  class="text-sm text-slate-300 transition-colors hover:text-amber-400"
                >
                  üìß {t('footer.newsletter')}
                </a>
              </li>
            </ul>
          </div>
        </div>

        <!-- Travel Stats -->
        <div class="mb-8 border-t border-slate-800 pt-8">
          <div class="flex items-center justify-center gap-8 md:gap-16">
            <div class="text-center">
              <div class="mb-1 text-2xl font-bold text-amber-400 md:text-3xl">50+</div>
              <div class="text-xs text-slate-400 md:text-sm">{t('footer.countriesExplored')}</div>
            </div>
            <div class="h-8 w-px bg-slate-700"></div>
            <div class="text-center">
              <div class="mb-1 text-2xl font-bold text-amber-400 md:text-3xl">200+</div>
              <div class="text-xs text-slate-400 md:text-sm">{t('footer.citiesVisited')}</div>
            </div>
            <div class="h-8 w-px bg-slate-700"></div>
            <div class="text-center">
              <div class="mb-1 text-2xl font-bold text-amber-400 md:text-3xl">100+</div>
              <div class="text-xs text-slate-400 md:text-sm">{t('footer.storiesShared')}</div>
            </div>
          </div>
        </div>

        <!-- Bottom Section -->
        <div class="border-t border-slate-800 pt-8">
          <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
            <p class="text-sm text-slate-400">
              ¬© 2025 Lord Of Trees. {t('footer.tagline')}
            </p>
            <div class="flex items-center space-x-6">
              <a
                href=`${mergePath(baseUrl, '/privacy')}`
                class="text-sm text-slate-400 transition-colors hover:text-amber-400"
              >
                {t('footer.privacy')}
              </a>
              <a
                href=`${mergePath(baseUrl, '/terms')}`
                class="text-sm text-slate-400 transition-colors hover:text-amber-400"
              >
                {t('footer.terms')}
              </a>
              <a
                href=`${mergePath(baseUrl, '/sitemap.xml')}`
                class="text-sm text-slate-400 transition-colors hover:text-amber-400"
              >
                {t('footer.sitemap')}
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Theme toggle functionality
      const themeToggleBtn = document.getElementById('theme-toggle');
      const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
      const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

      function toggleTheme() {
        document.documentElement.classList.toggle('dark');

        const isDark = document.documentElement.classList.contains('dark');
        themeToggleLightIcon!.classList.toggle('hidden', !isDark);
        themeToggleDarkIcon!.classList.toggle('hidden', isDark);
      }

      function initThemeIcons() {
        const isDark = document.documentElement.classList.contains('dark');
        themeToggleLightIcon!.classList.toggle('hidden', !isDark);
        themeToggleDarkIcon!.classList.toggle('hidden', isDark);
      }

      themeToggleBtn?.addEventListener('click', toggleTheme);

      // Mobile menu toggle
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');

      mobileMenuButton?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
      });

      // Dropdown hover effects
      document.addEventListener('DOMContentLoaded', () => {
        const dropdowns = document.querySelectorAll('.dropdown-wrapper');

        dropdowns.forEach(dropdown => {
          const menu = dropdown.querySelector('.dropdown-menu');
          if (menu) {
            dropdown.addEventListener('mouseenter', () => {
              menu.classList.remove('opacity-0', 'invisible');
              menu.classList.add('opacity-100', 'visible');
            });

            dropdown.addEventListener('mouseleave', () => {
              menu.classList.remove('opacity-100', 'visible');
              menu.classList.add('opacity-0', 'invisible');
            });
          }
        });
      });

      // Initialize theme icons on page load
      document.addEventListener('DOMContentLoaded', initThemeIcons);
    </script>
  </body>
</html>
